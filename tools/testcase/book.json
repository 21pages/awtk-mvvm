{
  "name":"book",
  "desc":"book store",
  "collection":true,
  "cmp":"  return strcmp(a->name, b->name);",
  "init":"  book->name = str_gen_random(\"book %d\");\n  book->stock = random()/100;\n",
  "deinit":"  TKMEM_FREE(book->name);",
  "props": [
    {
      "name":"isbn",
      "type":"char*",
      "desc": "isbn"
    },
    {
      "name":"name",
      "type":"char*",
      "desc": "book name"
    },
    {
      "name":"stock",
      "type":"uint32_t",
      "desc": "stock"
    }
  ],
  "cmds": [
    {
      "name":"sale",
      "canExec":"return book->stock > 0;",
      "impl":"book->stock--;",
      "desc":"sale a book"
    }
  ]
}
